{% extends 'dashboard/_base_dashboard.html' %}
{% load widget_tweaks %}

{% block title %}
    Organizations
{% endblock title %}

{% block description %}
    Manage your organizations
{% endblock description %}

{% block filters %}
    <div class="d-flex justify-content-end align-items-center mb-3">
        <form
            hx-get="{% url 'orgs:orgs_list' %}"
            hx-target="#dashboard_content"
            hx-swap="innerHTML"
            hx-indicator="#filter-spinner"
            class="d-flex align-items-center gap-2"
        >
            <label for="{{ filter.form.org_status.id_for_label }}" class="form-label me-2 mb-0">
                <i class="bi bi-funnel me-1"></i>
                Status
            </label>
            {% render_field filter.form.org_status class="form-select form-select-sm w-auto" %}
            <button type="submit" class="btn btn-outline-primary btn-sm">Filter</button>
        </form>
    </div>
    <div class="d-flex justify-content-center align-items-center p-0 htmx-indicator" id="filter-spinner">
        <div class="spinner-border" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
    </div>

{% endblock filters %}

{% block cards %}
    {% include 'dashboard/orgs/partials/org_list.html' %}
    {% include 'dashboard/create_new.html' with obj_name='Organization' create_obj_url='orgs:create_org' %}
{% endblock cards %}